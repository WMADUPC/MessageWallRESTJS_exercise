<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>Message Wall</title>
        <script type="text/javascript" src="../js/deletemessage.js" defer></script>
        <script type="text/javascript" src="../js/submitmessage.js" defer></script>
        <script type="text/javascript" src="../js/retrievemessages.js" defer></script>
        <script type="text/javascript" src="../js/logout.js" defer></script>
        
        <script type="text/javascript" src="../js/appwallhtml.js" defer></script>
                
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>
    <body>
 
        <h3>
<!--            User nick is updated in retrieveMessages() function
                using the setNick() function-->
            user: <em id="userNick"></em>
            <a href="javascript:void(0)" onClick="logout()">[Close session]</a>
        </h3>
<!--            The number of shown messages  is updated in retrieveMessages() 
                using the setNumberOfMessages() function-->        
        <h2> <em id="numberMessages"></em> Messages shown:</h2>

        <table id="messageTable"  >

              <thead>
                <tr>
                    <th>Message</th>
                    <th>Nick</th>
                    <th>Click to:</th>
                </tr>
              </thead>

            <tbody>
<!--              The body will be filled in the retrieveMessages() function-->
            </tbody>
        </table>

        <br>

        <HR WIDTH="100%" SIZE="2">

<!--        In the submitMessage() function we add a listener to the submit
             of this form as submitForm.onsubmit = async (e) => { //code }-->
        <form id="newmessage">
           New message:<input type="text" id="idcontent" name="content" size=10 required>
           <input type=submit value="Send message">
        </form>

        <HR WIDTH="100%" SIZE="2">
<!--  A listener to this button is added in the addRefreshListener() function-->
        <button id="refresh">Refresh</button>
        
<!--        We call retrieveMessages() so current messages 
            are shown after loading the html page-->
        <script>
            window.addEventListener("load", function(){retrieveMessages();});
        </script>

    </body>
</html>
